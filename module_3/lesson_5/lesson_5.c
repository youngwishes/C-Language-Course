#include <stdio.h>

int main() {
    /*
    КОНСПЕКТ: БИТОВЫЕ ОПЕРАЦИИ В C
    
    Главные моменты:
    1. Битовые операции работают с отдельными битами чисел
    2. Операции применяются к целочисленным типам
    3. Каждый бит обрабатывается независимо
    4. Полезны для оптимизации, работы с флагами, шифрования
    */
    
    printf("=== БИТОВЫЕ ОПЕРАЦИИ В C ===\n\n");
    
    // Исходные числа в десятичной системе
    unsigned char a = 170;  // 10101010 в двоичной
    unsigned char b = 204;  // 11001100 в двоичной
    
    printf("Исходные числа:\n");
    printf("a = %d (двоичное: 10101010)\n", a);
    printf("b = %d (двоичное: 11001100)\n\n", b);
    
    // 1. Побитовое НЕ (~) - инверсия битов
    printf("1. Побитовое НЕ (~):\n");
    printf("~a = %d (инверсия всех битов)\n", ~a);
    printf("~b = %d\n\n", ~b);
    
    // 2. Побитовое И (&) - общие биты
    // Результат 1 только если ОБА бита равны 1
    printf("2. Побитовое И (&):\n");
    printf("a & b = %d\n", a & b);
    printf("Объяснение: только общие единичные биты\n\n");
    
    // 3. Побитовое ИЛИ (|) - любой бит
    // Результат 1 если ХОТЯ БЫ ОДИН бит равен 1
    printf("3. Побитовое ИЛИ (|):\n");
    printf("a | b = %d\n", a | b);
    printf("Объяснение: объединение всех единичных битов\n\n");
    
    // 4. Побитовое исключающее ИЛИ (^) - разные биты
    // Результат 1 если биты РАЗНЫЕ
    printf("4. Побитовое XOR (^):\n");
    printf("a ^ b = %d\n", a ^ b);
    printf("Объяснение: 1 там, где биты разные\n\n");
    
    // Практические примеры использования
    printf("=== ПРАКТИЧЕСКИЕ ПРИМЕРЫ ===\n\n");
    
    // Пример 1: Проверка четности
    int number = 15;
    printf("Проверка четности числа %d:\n", number);
    if (number & 1) {
        printf("Число нечетное (последний бит = 1)\n");
    } else {
        printf("Число четное (последний бит = 0)\n");
    }
    
    // Пример 2: Умножение/деление на степень двойки
    int x = 10;
    printf("\nСдвиги для умножения/деления на 2:\n");
    printf("%d << 1 = %d (умножение на 2)\n", x, x << 1);
    printf("%d >> 1 = %d (деление на 2)\n", x, x >> 1);
    
    // Пример 3: Установка/сброс битов
    unsigned char flags = 0;  // 00000000
    printf("\nРабота с флагами:\n");
    
    // Установка 3-го бита (битовая маска)
    flags = flags | (1 << 3);  // Установить 3-й бит в 1
    printf("После установки 3-го бита: %d\n", flags);
    
    // Проверка 3-го бита
    if (flags & (1 << 3)) {
        printf("3-й бит установлен!\n");
    }
    
    // Сброс 3-го бита
    flags = flags & ~(1 << 3);  // Сбросить 3-й бит в 0
    printf("После сброса 3-го бита: %d\n", flags);
    
    return 0;
}


// Проверка на включенность: flags & mask == mask

// Выключение бита: flags & ~mask

// Включение бита: flags | mask

// Переключение бита: flags ^ mask

// Инверсия бит: ~number тоже что и -number - 1

// Смещение бит вправо: number >> 1 тоже что и number // (2 ** 1)

// Смещение бит влево: number << 1 тоже что и number * (2 ** 1)